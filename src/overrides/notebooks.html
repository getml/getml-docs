{% extends "main.html" %}

<!-- Inject header for notebooks in Examples-->
{% block content %}
<!-- page.nb_url is provided by mkdocs-jupyter plugin
     page.meta.path_repository is set by .meta.yml within each examples sub_folder
-->

{% if page.nb_url %}

  {% set current_filename = page.nb_url.split('/')[-1] %}
  {% set path_repository_full = page.meta.path_repository + "/" + current_filename %}

  {% if 'workbench' in page.meta.badges %}
    <a href="https://console.cloud.google.com/vertex-ai/workbench/deploy-notebook?download_url=https://raw.githubusercontent.com/{{ path_repository_full }}">
      <div class="badges">
        <img class="inline-icon" src="https://lh3.googleusercontent.com/UiNooY4LUgW_oTvpsNhPpQzsstV5W8F7rYgxgGBD85cWJoLmrOzhVs_ksK_vgx40SHs7jCqkTkCk=e14-rj-sc0xffffff-h130-w32">
        <strong>Workbench</strong>
      </div>
    </a>
  {% endif %}

  {% if 'colab' in page.meta.badges %}
    <a href="https://colab.research.google.com/github/{{ path_repository_full }}">
      <div class="badges">
        <img class="inline-icon" src="https://colab.research.google.com/img/colab_favicon.ico">
        <strong>Google Colab</strong>
      </div>
    </a>
  {% endif %}

  {% if 'github' in page.meta.badges %}
    <a href="https://github.com/{{ path_repository_full }}">
      <div class="badges">
        <img class="inline-icon" src="https://github.com/favicon.ico">
        <strong>GitHub source</strong>
      </div>
    </a>
  {% endif %}

  {% if 'kaggle' in page.meta.badges %}
    <!-- We need to set the paths here because there is no straight forward way 
         to pass meta data on 'file level' of notebooks.
    -->
    {% set kaggle_paths = {
        "getml-and-gnns-a-natural-symbiosis.ipynb": "jankmeyer/getml-and-gnns-a-natural-symbiosis",
        "epilepsy_recognition.ipynb": "tonyfischer/epileptic-seizure-recognition",
        "cora_getml_vs_gnn.ipynb": "jankmeyer/cora-relational-learning-vs-graph-neural-networks"
    } %}
    
    {% set kaggle_url = kaggle_paths[current_filename] if current_filename in kaggle_paths else None %}

    {% if kaggle_url %}
      <a href="https://www.kaggle.com/code/{{ kaggle_url }}">
        <div class="badges">
          <img class="inline-icon" src="https://kaggle.com/favicon.ico">
          <strong>Kaggle</strong>
        </div>
      </a>
    {% endif %}
  {% endif %}
{% endif %}

{{ super() }}
{% endblock content %}