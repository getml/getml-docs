<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Predicting - GetML Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Predicting";
        var mkdocs_page_input_path = "user_guide/predicting/predicting.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> GetML Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">getML Documentation</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">User guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" >Annotating data</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../annotating_data/annotating_data/">Annotating data</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Data model</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../data_model/data_model/">Data model</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Deployment</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../deployment/deployment/">Deployment</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Feature engineering</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../feature_engineering/feature_engineering/">Feature engineering</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Getml suite</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../getml_suite/engine/">Engine</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../getml_suite/getml_suite/">The getML suite</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../getml_suite/monitor/">Monitor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../getml_suite/python_api/">Python api</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Hyperopt</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../hyperopt/hyperopt/">Hyperopt</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Importing data</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/csv_interface/">Csv interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/greenplum_interface/">Greenplum interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/importing_data/">Importing data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/json_interface/">Json interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/mariadb_interface/">Mariadb interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/mysql_interface/">Mysql interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/odbc_interface/">Odbc interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/pandas_interface/">Pandas interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/postgres_interface/">Postgres interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../importing_data/sqlite3_interface/">Sqlite3 interface</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Predicting</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Predicting</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#using-getml">Using getML</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#using-external-software">Using external software</a>
    </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Preprocessing</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../preprocessing/preprocessing/">Preprocessing</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Project management</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../project_management/project_management/">Project management</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">GetML Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">User guide</li>
          <li class="breadcrumb-item">Predicting</li>
      <li class="breadcrumb-item active">Predicting</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p><a href="" id="predicting"></a></p>
<h1 id="predicting_1">Predicting</h1>
<p>Now that you know how to <a class="autorefs autorefs-internal" href="../../feature_engineering/feature_engineering/#feature-engineering_1">engineer a flat table of features</a>, you are ready to make predictions of the <a class="autorefs autorefs-internal" href="../../annotating_data/annotating_data/#target">target variable(s)</a>.</p>
<h2 id="using-getml">Using getML</h2>
<p>getML comes with four built-in machine learning predictors:</p>
<ul>
<li><a href="getml/predictors/LinearRegression"><code>LinearRegression</code></a></li>
<li><a href="getml/predictors/LogisticRegression"><code>LogisticRegression</code></a></li>
<li><a href="getml/predictors/XGBoostClassifier"><code>XGBoostClassifier</code></a></li>
<li><a href="getml/predictors/XGBoostRegressor"><code>XGBoostRegressor</code></a></li>
</ul>
<p>Using one of them in your analysis is very simple. Just pass one as the <code>predictor</code> argument to either <a href="getml/pipeline/Pipeline"><code>Pipeline</code></a> on initialization. As a list, more than one predictor can be passed to the pipeline.</p>
<div class="highlight"><pre><span></span><code><span class="n">feature_learner1</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">feature_learners</span><span class="o">.</span><span class="n">Relboost</span><span class="p">()</span>

<span class="n">feature_learner2</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">feature_learners</span><span class="o">.</span><span class="n">Multirel</span><span class="p">()</span>

<span class="n">predictor</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">predictors</span><span class="o">.</span><span class="n">XGBoostRegressor</span><span class="p">()</span>

<span class="n">pipe</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">(</span>
    <span class="n">data_model</span><span class="o">=</span><span class="n">data_model</span><span class="p">,</span>
    <span class="n">peripheral</span><span class="o">=</span><span class="n">peripheral_placeholder</span><span class="p">,</span>
    <span class="n">feature_learners</span><span class="o">=</span><span class="p">[</span><span class="n">feature_learner1</span><span class="p">,</span> <span class="n">feature_learner2</span><span class="p">],</span>
    <span class="n">predictors</span><span class="o">=</span><span class="n">predictor</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>When you call <code>fit()</code> on a pipeline, the entire pipeline will be trained.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The time estimation for training a pipeline is a rough estimate. Occasionally, the training time can be significantly longer than the estimate. But the pipeline never silently crashes. Given enough time, computations always finish.</p>
</div>
<p>Note that <a href="getml/pipeline/Pipeline"><code>Pipeline</code></a> comes with dependency tracking. That means it can figure out on its own what has changed and what needs to be trained again.</p>
<div class="highlight"><pre><span></span><code><span class="n">feature_learner1</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">feature_learners</span><span class="o">.</span><span class="n">Relboost</span><span class="p">()</span>

<span class="n">feature_learner2</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">feature_learners</span><span class="o">.</span><span class="n">Multirel</span><span class="p">()</span>

<span class="n">predictor</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">predictors</span><span class="o">.</span><span class="n">XGBoostRegressor</span><span class="p">()</span>

<span class="n">pipe</span> <span class="o">=</span> <span class="n">getml</span><span class="o">.</span><span class="n">pipeline</span><span class="o">.</span><span class="n">Pipeline</span><span class="p">(</span>
    <span class="n">data_model</span><span class="o">=</span><span class="n">data_model</span><span class="p">,</span>
    <span class="n">population</span><span class="o">=</span><span class="n">population_placeholder</span><span class="p">,</span>
    <span class="n">peripheral</span><span class="o">=</span><span class="n">peripheral_placeholder</span><span class="p">,</span>
    <span class="n">feature_learners</span><span class="o">=</span><span class="p">[</span><span class="n">feature_learner1</span><span class="p">,</span> <span class="n">feature_learner2</span><span class="p">],</span>
    <span class="n">predictors</span><span class="o">=</span><span class="n">predictor</span> 
<span class="p">)</span>

<span class="n">pipe</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">pipe</span><span class="o">.</span><span class="n">predictors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">n_estimators</span> <span class="o">=</span> <span class="mi">50</span>

<span class="c1"># Only the predictor has changed,</span>
<span class="c1"># so only the predictor will be refitted.</span>
<span class="n">pipe</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>To score the performance of your prediction on a test data set, the getML models come with a <code>score()</code> method. The available metrics are documented in <a href="getml/pipeline/scores"><code>scores</code></a>.</p>
<p>To use a trained model, including both the trained features and the predictor, to make predictions on new, unseen data, call the <code>predict()</code> method of your model.</p>
<h2 id="using-external-software">Using external software</h2>
<p>In our experience, the most relevant contribution to making accurate predictions are the generated features. Before trying to tweak your analysis by using sophisticated prediction algorithms and tuning their hyperparameters, we recommend tuning the hyperparameters of your <a href="getml/feature_learning/Multirel"><code>Multirel</code></a> or <a href="getml/feature_learning/Relboost"><code>Relboost</code></a> instead. You can do so either by hand or using getML's automated <a class="autorefs autorefs-internal" href="../../hyperopt/hyperopt/#hyperparameter-optimization">hyperparameter optimization</a>.</p>
<p>If you wish to use external predictors, you can transform new data, which is compliant with your relational data model, to a flat feature table using the <code>transform()</code> method of your pipeline.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../importing_data/sqlite3_interface/" class="btn btn-neutral float-left" title="Sqlite3 interface"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../preprocessing/preprocessing/" class="btn btn-neutral float-right" title="Preprocessing">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../importing_data/sqlite3_interface/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../preprocessing/preprocessing/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
